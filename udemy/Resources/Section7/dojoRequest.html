<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>DOJO request </title>
    </head>
<body>
<h1> DEMO: DOJO/REQUEST </h1>
<div id="testDiv"/>
<button id="textButton">Click Here!</button>

<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.12.1/dojo/dojo.js" data-dojo-config="async:true"></script>

<script>
require(["dojo/dom", "dojo/on", "dojo/request", "dojo/domReady!"],function(dom, on, request){
        // Results will be displayed in testDiv
        var testDiv = dom.byId("testDiv");

        on(dom.byId("textButton"), "click", function(evt){
		
            request.get("text/testFile.txt",{handleas:"json"}).then(
                function(response){
                    // Display the text file content
                    testDiv.innerHTML = response;
                },
                function(error){
                    // Display the error returned
                    testDiv.innerHTML = "<div class=\"error\">"+error+"<div>";
                }
            );
        });
    }
);

</script>
</body>
</html>